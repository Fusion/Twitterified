package twitter.api.data{	import twitter.api.data.TwitterUser;	import com.voilaweb.tfd.Logger;		public class TwitterStatus {		public var createdAt:Date;		public var id:Number;		public var text:String;		public var rawText:String;		public var user:TwitterUser;		public var link:String;		public var extra:String;		public var type:String;		public var subType:String;		public var direct: String;		private var _interaction:String;		private var _server:String;		private var _username:String;						function TwitterStatus(status:Object, twitterUser:TwitterUser = null) {			this.createdAt = makeDate(status.created_at);			id = status.id;			rawText = status.text;			text = rawText;			if (twitterUser){				user = twitterUser;			} else if (status is XML) {				if (XML(status).elements("user").length() > 0) {					user = new TwitterUser(status.user);				} else if (XML(status).elements("sender").length() > 0) {					user = new TwitterUser(status.sender);				}			} else if (status.user) {				user = new TwitterUser(status.user);			} else if (status.sender) {				user = new TwitterUser(status.sender);			}		}				public function identity(reqServer:String, reqUsername:String):void		{			_server   = reqServer;			_username = reqUsername;		}		public function get unique():String		{			return _server+'$'+_username;		}		public function get server():String		{			return _server;			}		public function get username():String		{			return _username;			}		public function set interaction(reqInteraction:String):void		{			_interaction = reqInteraction;		}		public function get interaction():String		{			return _interaction;		}				private function makeDate(created_at:String):Date{			if(!created_at || created_at.length < 18)				return new Date();						var dateString:String;			var timeString:String;						if(created_at.charAt(3) == ',')			{				dateString =					created_at.substr(0,3) +					' ' +					created_at.substr(8,3) +					' ' +					created_at.substr(5,2) +					' ' +					created_at.substr(12,4);				timeString = 					created_at.substr(17, 8);				}			else			{				dateString =					created_at.substr(0,10) +					' ' +					created_at.substr(created_at.length -4,created_at.length);				timeString =					created_at.substr(11,8);			}			return(new Date(dateString+" "+timeString));		}	}}